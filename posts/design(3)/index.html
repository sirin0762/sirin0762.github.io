<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="디자인 패턴(3) - Decorator 패턴" /><meta property="og:locale" content="en" /><meta name="description" content="Design Patten(3) : 데코레이터 패턴" /><meta property="og:description" content="Design Patten(3) : 데코레이터 패턴" /><link rel="canonical" href="https://sirin0762.gitbub.io/posts/design(3)/" /><meta property="og:url" content="https://sirin0762.gitbub.io/posts/design(3)/" /><meta property="og:site_name" content="Sirin0762" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-01-02T15:01:22+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="디자인 패턴(3) - Decorator 패턴" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"Design Patten(3) : 데코레이터 패턴","url":"https://sirin0762.gitbub.io/posts/design(3)/","@type":"BlogPosting","headline":"디자인 패턴(3) - Decorator 패턴","dateModified":"2022-01-02T15:01:22+08:00","datePublished":"2022-01-02T15:01:22+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://sirin0762.gitbub.io/posts/design(3)/"},"@context":"https://schema.org"}</script><title>디자인 패턴(3) - Decorator 패턴 | Sirin0762</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Sirin0762"><meta name="application-name" content="Sirin0762"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/favicons/favicon.ico" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Sirin0762</a></div><div class="site-subtitle font-italic">배움이 즐거운 누군가</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/sirin0762" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['tlsdydwls123','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>디자인 패턴(3) - Decorator 패턴</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>디자인 패턴(3) - Decorator 패턴</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> sirin0762 </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sun, Jan 2, 2022, 3:01 PM +0800" >Jan 2<i class="unloaded">2022-01-02T15:01:22+08:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1891 words">10 min read</span></div></div><div class="post-content"><h1 id="design-patten3--데코레이터-패턴">Design Patten(3) : 데코레이터 패턴</h1><p>이 글은 <code class="language-plaintext highlighter-rouge">Head First Design Patterns</code> 을 읽고 정리한 글입니다.</p><p>데코레이터 패턴은 실행중에 클래스를 꾸미는(데코레이션하는) 방법입니다. 데코레이터 패턴을 배우고 나면 원래 클래스의 코드는 전혀 바꾸지 않고도 여러 객체에 새로운 임무를 부여할 수 있습니다.</p><h3 id="문제이해">문제이해</h3><p>스타버즈 커피는 엄청난 속도로 성장한 초대형 커피 전문점으로 유명합니다. 심지어 어떤 동네에는 스타버즈가 두 세 개씩 있기도 합니다.</p><p>스타버즈 커피샵은 워낙 빠르게 성장했기 땜누에 다양한 음료들을 모두 포괄하는 주문 시스템을 이제서야 겨우 갖추려고 하는 중입니다.</p><p>처음에 사업을 시작할 무렵에 만들어진 클래스들은 다음과 같은 식으로 구성되었습니다.</p><p><img data-proofer-ignore data-src="../../assets/img/posts/2021-01-02-design(3)/Untitled.png" alt="Untitled" /></p><p>하지만 커피를 주문할 때는 스팀 우유나 두유, 모카(초콜릿)을 추가하고, 그 위에 휘핑크림을 올리기도 합니다. 그래서 처음에는 이렇게 했습니다. 이렇게 할 경우에 클래스의 개수는 폭팔적으로 늘고 말 것입니다.</p><p><img data-proofer-ignore data-src="../../assets/img/posts/2021-01-02-design(3)/Untitled%201.png" alt="Untitled" /></p><p>분명 위의 방식은 문제가 있어보입니다. 만약 모든 음료에 카라멜을 추가할 수 있다면 클래스는 배로 증가할 것입니다. 그렇다면 Beverage라는 수퍼 클래스를 만들어보는 것은 어떨까요?</p><p><img data-proofer-ignore data-src="../../assets/img/posts/2021-01-02-design(3)/Untitled%203.png" alt="Untitled" /></p><p>이 경우에는 코드의 변경이 일어나기 쉽습니다. 첨가물 가격이 변경되면 코드 수정을 해야하고, 첨가물의 종류가 바뀌면 cost() 메서드도 변경해줘야 할 것입니다. 간단하게 이야기하면 OCP를 위반하고 있습니다.</p><h3 id="ocpopen-closed-principal--확장에-대해서는-열려있고-수정에-대해서는-닫혀있어야한다">OCP(Open-closed principal) : 확장에 대해서는 열려있고, 수정에 대해서는 닫혀있어야한다.</h3><p>2장에서 배운 Observer 패턴을 보면 Subject 자체에 코드를 추가하지 않으면서도 언제든지 확장 할 수 있습니다. 그렇다고 모든 코드에 OCP를 적용하는 것은 많은 노력이 필요합니다. 또한 OCP를 지키려고 하면 새로운 단계의 추상화가 필요한 경우가 생기는데, 그렇게되면 코드가 필요 이상으로 복잡해질수도 있습니다. 가성비 있게, 우리가 디자인한 것중에서 가장 바뀔 확률이 높은 부분을 중점적으로 살펴보고 원칙을 적용하는 방법이 가장 현명합니다.</p><h3 id="데코레이터-패턴">데코레이터 패턴</h3><p>우리가 사용할 방법은 다음과 같습니다. 우선 특정 음료에서 시작해서, 첨가물로 그 음료를 장식할 것입니다. 아래와 같은 방식이겠네요.</p><ol><li>DarkRoast 객체를 가져온다.<li>Mocha 객체로 장식한다.<li>Whip 객체로 장식한다.<li>cost() 메서드를 호출한다. 이 때, 첨가물의 가격을 계산하는 일은 해당 객체들에게 위임된다.</ol><p>그림으로 보면 이런 느낌일 것 입니다. 데코레이터의 수퍼클래스는 자신이 장식하고 있는 객체의 수퍼클래스와 같습니다.</p><p><img data-proofer-ignore data-src="../../assets/img/posts/2021-01-02-design(3)/Untitled%203.png" alt="Untitled" /></p><p>가격을 구할 때는 가장 바깥쪽에 있는 Whip의 cost()를 호출하면 됩니다. 그러면 Whip 에서는 그 객체가 장식하고 있는 객체에게 가격 계산을 위임합니다. 가격이 구해지고 나면, 구해진 가격에 휘핑크림의 가격을 더한다음 그 결과를 리턴합니다.</p><ol><li>Whip cost() 호출<li>Whip에서 Mocha의 cost() 호출<li>Mocha에서 DarkRoast의 cost() 호출<li>DarkRoast의 cost() 에서 가격 리턴<li>Mocha에서 가격 리턴<li>Whip에서 가격 리턴</ol><p>다음으로 정의를 살펴봅시다.</p><blockquote><p>데코레이터 패턴에서는 객체에 추가적인 요건을 동적으로 첨가한다. 데코레이터는 서브클래스를 만드는 것을 통해서 기능을 유연하게 확장할 수 있는 방법을 제공한다.</p></blockquote><p>정의를 보면 추가기능을 붙이는 것이구나 라고 생각할 수 있습니다. 하지만 실제 코드로는 어떻게 구현해야할지는 애매모호합니다. 아래 그림으로 같이 보시죠</p><p><img data-proofer-ignore data-src="../../assets/img/posts/2021-01-02-design(3)/Untitled%204.png" alt="Untitled" /></p><h3 id="구현">구현</h3><p>이제 구현을 해봅시다. 일단 음료와 첨가물 데코레이터를 먼저 구현합니다. <code class="language-plaintext highlighter-rouge">CondimentDecorator</code> 의 getDescription은 데코레이터의 구현체에서 자세하게 쓰기 위해서 오버라이드 해왔습니다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span text-data=" Java "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">Beverage</span> <span class="o">{</span>
    <span class="nc">String</span> <span class="n">description</span> <span class="o">=</span> <span class="s">"제목없음"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getDescription</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">description</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">abstract</span> <span class="kt">double</span> <span class="nf">cost</span><span class="o">();</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="code-header"> <span text-data=" Java "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">CondimentDecorator</span> <span class="kd">extends</span> <span class="nc">Beverage</span><span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kd">abstract</span> <span class="nc">String</span> <span class="nf">getDescription</span><span class="o">();</span>
<span class="o">}</span>
</pre></table></code></div></div><p>다음은 음료를 구현합니다. 여기서는 <code class="language-plaintext highlighter-rouge">HouseBlend</code> 와 <code class="language-plaintext highlighter-rouge">Espresso</code> 만 만들겠습니다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span text-data=" Java "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">HouseBlend</span> <span class="kd">extends</span> <span class="nc">Beverage</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="nf">HouseBlend</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">description</span> <span class="o">=</span> <span class="s">"하우스 블랜드 커피"</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">cost</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="mf">0.89</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="code-header"> <span text-data=" Java "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Espresso</span> <span class="kd">extends</span> <span class="nc">Beverage</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="nf">Espresso</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">description</span> <span class="o">=</span> <span class="s">"에스프레소"</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">cost</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="mf">1.99</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span>
</pre></table></code></div></div><p>다음은 데코레이터 패턴을 적용할 첨가물입니다. 코드를 보면 <code class="language-plaintext highlighter-rouge">Beverage</code> 를 상속함과 동시에 composition을 하고 있는 것을 볼 수 있습니다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span text-data=" Java "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Mocha</span> <span class="kd">extends</span> <span class="nc">CondimentDecorator</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">Beverage</span> <span class="n">beverage</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Mocha</span><span class="o">(</span><span class="nc">Beverage</span> <span class="n">beverage</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">beverage</span> <span class="o">=</span> <span class="n">beverage</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">cost</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="mf">0.20</span> <span class="o">+</span> <span class="n">beverage</span><span class="o">.</span><span class="na">cost</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getDescription</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">beverage</span><span class="o">.</span><span class="na">getDescription</span><span class="o">()</span> <span class="o">+</span> <span class="s">", 모카"</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SteamMilk</span> <span class="kd">extends</span> <span class="nc">CondimentDecorator</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">Beverage</span> <span class="n">beverage</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">SteamMilk</span><span class="o">(</span><span class="nc">Beverage</span> <span class="n">beverage</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">beverage</span> <span class="o">=</span> <span class="n">beverage</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">cost</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="mf">0.10</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">beverage</span><span class="o">.</span><span class="na">cost</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getDescription</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">beverage</span><span class="o">.</span><span class="na">description</span> <span class="o">+</span> <span class="s">", 스팀밀크"</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Whip</span> <span class="kd">extends</span> <span class="nc">CondimentDecorator</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">Beverage</span> <span class="n">beverage</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Whip</span><span class="o">(</span><span class="nc">Beverage</span> <span class="n">beverage</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">beverage</span> <span class="o">=</span> <span class="n">beverage</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">cost</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="mf">0.25</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">beverage</span><span class="o">.</span><span class="na">cost</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getDescription</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">beverage</span><span class="o">.</span><span class="na">description</span> <span class="o">+</span> <span class="s">", 휘핑크림"</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Soy</span> <span class="kd">extends</span> <span class="nc">CondimentDecorator</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">Beverage</span> <span class="n">beverage</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Soy</span><span class="o">(</span><span class="nc">Beverage</span> <span class="n">beverage</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">beverage</span> <span class="o">=</span> <span class="n">beverage</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">cost</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="mf">0.19</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">beverage</span><span class="o">.</span><span class="na">cost</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getDescription</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">beverage</span><span class="o">.</span><span class="na">getDescription</span><span class="o">()+</span> <span class="s">", 두유"</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span>
</pre></table></code></div></div><p>이제 테스트 코드를 만들어봅시다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span text-data=" Java "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">StarbuzzCoffee</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Beverage</span> <span class="n">espresso</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Espresso</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">espresso</span><span class="o">.</span><span class="na">getDescription</span><span class="o">()</span>  <span class="o">+</span> <span class="s">" $"</span> <span class="o">+</span> <span class="n">espresso</span><span class="o">.</span><span class="na">cost</span><span class="o">());</span>

        <span class="nc">Beverage</span> <span class="n">houseBlend</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HouseBlend</span><span class="o">();</span>
        <span class="n">houseBlend</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Mocha</span><span class="o">(</span><span class="n">houseBlend</span><span class="o">);</span>
        <span class="n">houseBlend</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Mocha</span><span class="o">(</span><span class="n">houseBlend</span><span class="o">);</span>
        <span class="n">houseBlend</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Whip</span><span class="o">(</span><span class="n">houseBlend</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">houseBlend</span><span class="o">.</span><span class="na">getDescription</span><span class="o">()</span>  <span class="o">+</span> <span class="s">" $"</span> <span class="o">+</span> <span class="n">houseBlend</span><span class="o">.</span><span class="na">cost</span><span class="o">());</span>
    <span class="o">}</span>

<span class="o">}</span>
</pre></table></code></div></div><p><img data-proofer-ignore data-src="../../assets/img/posts/2021-01-02-design(3)/Untitled%205.png" alt="Untitled" /></p><p>사진을 보면 정상적으로 기능이 잘 나오는 것을 볼 수 있습니다.. 허나 모카, 모카 라고 하는 부분을 더블모카로 바꾸면 더 좋을 것 같습니다. 이 부분은 CondimentPrettyPrint 의 이름으로 데코레이터를 만들어서 적용해보면 좋을 것 같습니다.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/design-patterns/'>design patterns</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/design-patterns/" class="post-tag no-text-decoration" >design patterns</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=디자인 패턴(3) - Decorator 패턴 - Sirin0762&url=https://sirin0762.gitbub.io/posts/design(3)/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=디자인 패턴(3) - Decorator 패턴 - Sirin0762&u=https://sirin0762.gitbub.io/posts/design(3)/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=디자인 패턴(3) - Decorator 패턴 - Sirin0762&url=https://sirin0762.gitbub.io/posts/design(3)/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/BOJ4963/">BOJ_4963 섬의 갯수 풀이</a><li><a href="/posts/BOJ16953/">BOJ_16953 A -> B 풀이</a><li><a href="/posts/BOJ1541/">BOJ_1541 잃어버린 괄호 풀이</a><li><a href="/posts/BOJ2003/">BOJ_2003 수들의 합2 풀이</a><li><a href="/posts/BOJ2217/">BOJ_2217 로프 풀이</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/design-patterns/">design patterns</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/java/">Java</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/design(5)/"><div class="card-body"> <span class="timeago small" >Jan 5<i class="unloaded">2022-01-05T14:46:22+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>디자인 패턴(5) - Singleton 패턴</h3><div class="text-muted small"><p> Design Pattern(5) - 싱글톤 패턴 이 글은 Head First Design Patterns 을 읽고 정리한 글입니다. 나는 유일무이하다 싱글톤 패턴은 객체의 인스턴스는 하나 뿐임을 보장하는 패턴입니다. 따라서 쓰레드 풀이나, 캐시, 설정 등의 하나만 있으면 되는 객체에 많이 적용됩니다. 그리고 싱글톤 패턴을 사용하면 전역 변수를 ...</p></div></div></a></div><div class="card"> <a href="/posts/design(6).md/"><div class="card-body"> <span class="timeago small" >Jan 9<i class="unloaded">2022-01-09T14:22:22+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>디자인 패턴(6) - Command 패턴</h3><div class="text-muted small"><p> Design Pattern(6) - Command 패턴 이 글은 Head First Design Patterns 을 읽고 정리한 글입니다. 문제 이해 이번에는 홈 오토메이션 리모컨의 API 디자인을 의뢰받았습니다. 이 리모컨에는 7가지 프로그래밍이 관한 슬롯과 각 슬롯에 대한 온 / 오프 스위치가 있습니다. 각 슬롯은 다른 서로 다른 가정용 기기...</p></div></div></a></div><div class="card"> <a href="/posts/design(7).md/"><div class="card-body"> <span class="timeago small" >Jan 11<i class="unloaded">2022-01-11T16:44:22+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>디자인 패턴(7) - Adapter 패턴</h3><div class="text-muted small"><p> Design Pattern(7) : Adaptor 패턴 이 글은 Head First Design Patterns 을 읽고 정리한 글입니다. 객체지향 어댑터 어댑터는 클라이언트로부터 요청을 받아서 새로운 업체에서 제공하는 클래스에서 받아들일 수 있는 형태의 요청으로 변환시켜주는 중개인 역할을 합니다. 예시를 하나 들어봅시다. 1장에서 살펴보았던 ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/prgrms17676/" class="btn btn-outline-primary" prompt="Older"><p>프로그래머스 추석 트래픽 풀이</p></a> <a href="/posts/design(4)/" class="btn btn-outline-primary" prompt="Newer"><p>디자인 패턴(4.1) - Factory 패턴</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/sirin0762">sirin0762</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/design-patterns/">design patterns</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/java/">Java</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
